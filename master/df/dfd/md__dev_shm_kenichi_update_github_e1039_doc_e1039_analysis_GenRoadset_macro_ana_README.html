<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9" />
<title>Class Reference for E1039 Core &amp; Analysis Software: Macro to generate and evaluate roadset</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon" /> 
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
 <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<div id="top">
		<!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td style="padding-left: 0.5em;">
							<div id="projectname">
								Class Reference for E1039 Core &amp; Analysis Software
							</div> 
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('df/dfd/md__dev_shm_kenichi_update_github_e1039_doc_e1039_analysis_GenRoadset_macro_ana_README.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Macro to generate and evaluate roadset </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This directory is to first generate a new roadset, using the signal and BG events. It then evaluates the new roadset, namely re-analyzes the signal and BG events to compute the signal acceptance and the BG rate.</p>
<p>You need execute <code>source setup.sh</code> beforehand.</p>
<h1><a class="anchor" id="autotoc_md106"></a>
Lists of Input Files</h1>
<p>Signal files and BG files should be listed in <code>list_signal.txt</code> and <code>list_bg.txt</code>. You can make the lists by the following command;</p>
<div class="fragment"><div class="line">./make-input-list.sh</div>
</div><!-- fragment --><p>When you use the full-BG simulation, you have to change <code>DIR_IN_BG</code> in the script beforehand.</p>
<p>If you have modified some setting in <code>macro_gen_signal</code> or <code>macro_e906_nim3</code>, you might have to modify <code>make-input-list.sh</code> accordingly.</p>
<h1><a class="anchor" id="autotoc_md107"></a>
QIE Inhibit Threshold</h1>
<p>You set the QIE inhibit threshold when generating and evaluating a new roadset. It was 1200 on average in the last E906 run, although it varied with time. Thus you should try 1200 and also different values (like 1000 and 1400) to check how the result changes.</p>
<h1><a class="anchor" id="autotoc_md108"></a>
Generation of Roadset</h1>
<p>Typical procedure:</p>
<div class="fragment"><div class="line">root -b GenerateRoad.C</div>
</div><!-- fragment --><p>Related files:</p><ul>
<li><code>macro_ana/GenerateRoad.C</code></li>
<li><code>src/AnaGmc.(h|cc)</code></li>
<li><code>src/AnaNim3.(h|cc)</code></li>
<li><code>src/GenRoadset.(h|cc)</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md109"></a>
Evaluation of Roadset</h1>
<p>Typical procedure:</p>
<div class="fragment"><div class="line">root -b ApplyRoadset2Signal.C</div>
<div class="line">root -b &#39;ApplyRoadset2BG.C(0)&#39;</div>
<div class="line">root -b &#39;ApplyRoadset2BG.C(45000)&#39;</div>
<div class="line">root -b &#39;ApplyRoadset2BG.C(63000)&#39;</div>
<div class="line">root -b &#39;ApplyRoadset2BG.C(80500)&#39;</div>
<div class="line">root -b DrawRS.C</div>
</div><!-- fragment --><p>Related files:</p><ul>
<li><code>work/ApplyRoadset2Signal.C</code></li>
<li><code>work/ApplyRoasetd2BG.C</code></li>
<li><code>work/DrawRS.C</code></li>
<li><code>src/ReAnaSignal.(h|cc)</code></li>
<li><code>src/ReAnaBG.(h|cc)</code></li>
<li><code>src/DrawRoadset.(h|cc)</code> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

<!-- start footer part -->
<div id="nav-path" class="navpath">
	<!-- id is needed for treeview function! -->
	<ul>
		<li class="footer">
		Built by <a href="mailto:yuhw@nmsu.edu">Haiwang Yu</a></em>.
			updated: <em>Thu Jan 30 2025 10:15:17</em> using <a
			href="http://www.doxygen.org/index.html"> <img class="footer"
				src="../../doxygen.png" alt="doxygen" /></a> 1.9.1 
				with <a href="https://github.com/HaiwangYu/seaquest-offline">SeaQuest GitHub integration</a>
		</li>
	</ul>
</div>
</body>
</html>
