<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9" />
<title>Class Reference for E1039 Core &amp; Analysis Software: README</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon" /> 
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
 <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<div id="top">
		<!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td style="padding-left: 0.5em;">
							<div id="projectname">
								Class Reference for E1039 Core &amp; Analysis Software
							</div> 
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/d58/md__dev_shm_kenichi_update_github_e1039_doc_e1039_analysis_RecoDev_grid_script_README.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="fragment"><div class="line">gridrun_data.sh</div>
<div class="line">gridsub_data.sh</div>
</div><!-- fragment --><p> These are scripts to run real data in grid with the macro, <code>RecoE1039Data.C</code>. Since <code>/data2/</code> area is not acessible during job submission, these scripts assume you copied the dst data files from <code>/data2/</code> area to <code>/pnfs/e906/persistent/users/$USER/DstRun</code> area. Please refer to the <a href="https://github.com/E1039-Collaboration/e1039-wiki/wiki/data-file-on-grid">wiki page</a> about setting the file location. To run list of the runs from <code>run_list.txt</code> in grid, use the following command; </p><div class="fragment"><div class="line">./gridsub_data.sh ouput_dir 1 run_list.txt 0 single </div>
</div><!-- fragment --><p> Here, the "0" options lets you run all the available events in the run. For the longer runs which can't be finished within the 24 hours limit, you need to split the data in some spill number interval. The <code>splitDST.C</code>macro splits the longer DST runs in specified interval of spills. For now, the default number of spill interval for splitting is set to 750.</p>
<div class="fragment"><div class="line">root -b -q splitDst.C\&zwj;(run_number\&zwj;)</div>
</div><!-- fragment --><p>The splitted dst files will be outputed to <code>/pnfs/e906/persistent/users/$USER/DstRun/run_number/</code> (You might see some error msg regarding the persmission to write in persistent area, please ignore the message for now). After splitting the data for a particular run, use the following command to run all the splitted files from the runs in run_list.txt;</p>
<div class="fragment"><div class="line">./gridsub_data.sh ouput_dir 1 run_list.txt 0 split </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md193"></a>
Note:</h2>
<ol type="1">
<li>Please turn on <code>reco-&gt;set_enable_eval_dst(true);</code> in the <code>RecoE1039Data.C</code> macro to add the tracklet vector node to DST</li>
</ol>
<ol type="1">
<li>Don't the chage the name of the input file in the macro while running grid job. Keep it as it is (i.e. <code>data.root</code>) </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

<!-- start footer part -->
<div id="nav-path" class="navpath">
	<!-- id is needed for treeview function! -->
	<ul>
		<li class="footer">
		Built by <a href="mailto:yuhw@nmsu.edu">Haiwang Yu</a></em>.
			updated: <em>Thu Jan 30 2025 10:15:17</em> using <a
			href="http://www.doxygen.org/index.html"> <img class="footer"
				src="../../doxygen.png" alt="doxygen" /></a> 1.9.1 
				with <a href="https://github.com/HaiwangYu/seaquest-offline">SeaQuest GitHub integration</a>
		</li>
	</ul>
</div>
</body>
</html>
